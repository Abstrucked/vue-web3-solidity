{"remainingRequest":"/home/abstrucked/dev/solidity/vue-web3/node_modules/babel-loader/lib/index.js!/home/abstrucked/dev/solidity/vue-web3/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/home/abstrucked/dev/solidity/vue-web3/src/utils/store.js","dependencies":[{"path":"/home/abstrucked/dev/solidity/vue-web3/src/utils/store.js","mtime":1631962131698},{"path":"/home/abstrucked/dev/solidity/vue-web3/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1631029285838},{"path":"/home/abstrucked/dev/solidity/vue-web3/node_modules/babel-loader/lib/index.js","mtime":1631029285844},{"path":"/home/abstrucked/dev/solidity/vue-web3/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1631029291303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgKiBhcyBXZWIzIGZyb20gJ3dlYjMnOyAvLyBpbXBvcnQgKiBhcyBjb250cmFjdEpTT04gZnJvbSAnLi4vYnVpbGQvY29udHJhY3RzL1N0ZXBCeVN0ZXAuanNvbicKCmNvbnN0IHN0YXRlID0gVnVlLm9ic2VydmFibGUoewogIGFjY291bnQ6ICcnLAogIGJhbGFuY2U6IDAKfSk7CmV4cG9ydCBjb25zdCBfY29ubmVjdCA9IGFzeW5jICgpID0+IHsKICBpZiAod2luZG93LmV0aGVyZXVtICE9IG51bGwpIHsKICAgIHRyeSB7CiAgICAgIGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5zZW5kKCdldGhfcmVxdWVzdEFjY291bnRzJyk7CiAgICAgIGNvbnN0IHdlYjMgPSBhd2FpdCBuZXcgV2ViMyh3aW5kb3cuZXRoZXJldW0pOwogICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdlYjMuZXRoLmdldEFjY291bnRzKCk7CgogICAgICBpZiAoYWNjb3VudHNbMF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIHN0YXRlLmFjY291bnQgPSBhY2NvdW50c1swXTsKICAgICAgICBjb25zdCBiYWxhbmNlID0gYXdhaXQgd2ViMy5ldGguZ2V0QmFsYW5jZShhY2NvdW50c1swXSk7CiAgICAgICAgc3RhdGUuYmFsYW5jZSA9IGJhbGFuY2UgKiAwLjAwMDAwMDAwMDAwMDAwMDAwMDE7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Nvbm5lY3RlZCcsIHN0YXRlLmFjY291bnQpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnJvcikgey8vIGVycgogICAgfQogIH0gZWxzZSB7CiAgICBhbGVydCgnUGxlYXNlIGluc3RhbGwgTWV0YW1hc2snKTsKICB9Cn07CmV4cG9ydCBjb25zdCBfZGlzY29ubmVjdCA9ICgpID0+IHsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY29ubmVjdGVkJyk7CiAgc3RhdGUuYWNjb3VudCA9ICcnOwogIHN0YXRlLmJhbGFuY2UgPSAwOwogIGxvY2F0aW9uLnJlbG9hZCgpOwp9OwpleHBvcnQgY29uc3QgY2hlY2tBbmRHbyA9IGFzeW5jICgpID0+IHsKICBpZiAod2luZG93LmV0aGVyZXVtKSB7CiAgICBjb25zdCB3ZWIzID0gYXdhaXQgbmV3IFdlYjMod2luZG93LmV0aGVyZXVtKTsKICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2ViMy5ldGguZ2V0QWNjb3VudHMoKTsKICAgIGNvbnN0IGNhY2hlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nvbm5lY3RlZCcpOwoKICAgIGlmIChhY2NvdW50cykgewogICAgICBpZiAoYWNjb3VudHNbMF0gPT09IGNhY2hlKSB7CiAgICAgICAgc3RhdGUuYWNjb3VudCA9IGFjY291bnRzWzBdOwogICAgICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCB3ZWIzLmV0aC5nZXRCYWxhbmNlKGFjY291bnRzWzBdKTsKICAgICAgICBzdGF0ZS5iYWxhbmNlID0gYmFsYW5jZSAqIDAuMDAwMDAwMDAwMDAwMDAwMDAxOwogICAgICB9CiAgICB9CiAgfQp9OyAvLyBleHBvcnQgY29uc3QgZ2V0Q29udHJhY3QgPSBhc3luYyAoKSA9PiB7Ci8vICAgbGV0IHdlYjMgPSAnJwovLyAgIGlmICh0eXBlb2Ygd2ViMyAhPT0gJ3VuZGVmaW5lZCcpIHsKLy8gICAgIHdlYjMgPSBhd2FpdCBuZXcgV2ViMyh3aW5kb3cuZXRoZXJldW0pCi8vICAgICBjb25zb2xlLmxvZygndmFsJywgd2ViMykKLy8gICB9IGVsc2UgewovLyAgICAgLy8gc2V0IHRoZSBwcm92aWRlciB5b3Ugd2FudCBmcm9tIFdlYjMucHJvdmlkZXJzCi8vICAgICB3ZWIzID0gYXdhaXQgbmV3IFdlYjMobmV3IFdlYjMucHJvdmlkZXJzLkh0dHBQcm92aWRlcihuZXR3b3Jrcy5kZXYuaHR0cFByb3ZpZGVyKSkKLy8gICAgIGNvbnNvbGUubG9nKCdudWxsJywgd2ViMykKLy8gICB9Ci8vICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCB3ZWIzLmV0aC5nZXRBY2NvdW50cygpCi8vICAgd2ViMy5ldGguZGVmYXVsdEFjY291bnQgPSBhY2NvdW50c1swXQovLyAgIGNvbnN0IGFjY291bnQgPSBhY2NvdW50c1swXQovLyAgIGNvbnNvbGUubG9nKGFjY291bnQpCi8vICAgY29uc3Qgc2JzID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGNvbnRyYWN0SlNPTi5hYmksICcweEEzZDZEODYwRjZBM0Q3NkQxY0RCNThhRDVGNWFmZTg4MTM3ODFGMTAnLCB7Ci8vICAgICBmcm9tOiBhY2NvdW50LAovLyAgICAgZ2FzTGltaXQ6IHdlYjMudXRpbHMudG9IZXgoNzkwMDAwMCksCi8vICAgICBnYXNQcmljZTogd2ViMy51dGlscy50b0hleCgxMDAwMDAwMDAwKQovLyAgIH0pCi8vICAgY29uc29sZS5sb2coc2JzKQovLyAgIGF3YWl0IHNicy5tZXRob2RzLmNsYWltKCkuc2VuZCh7ZnJvbTogYWNjb3VudHNbMF19KQovLyB9Ci8vIGNvbnN0IG5ldHdvcmtzID0gewovLyAgIGRldjogewovLyAgICAgaHR0cFByb3ZpZGVyOiAnaHR0cDovL2xvY2FsaG9zdDo3NTQ1JwovLyAgIH0sCi8vICAgZGVmYXVsdDogdGhpcy5odHRwUHJvdmlkZXIKLy8gfQoKZXhwb3J0IGRlZmF1bHQgc3RhdGU7"},{"version":3,"sources":["/home/abstrucked/dev/solidity/vue-web3/src/utils/store.js"],"names":["Vue","Web3","state","observable","account","balance","_connect","window","ethereum","send","web3","accounts","eth","getAccounts","undefined","getBalance","localStorage","setItem","error","alert","_disconnect","removeItem","location","reload","checkAndGo","cache","getItem"],"mappings":"AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAO,KAAKC,IAAZ,MAAsB,MAAtB,C,CACA;;AAEA,MAAMC,KAAK,GAAGF,GAAG,CAACG,UAAJ,CAAe;AAAEC,EAAAA,OAAO,EAAE,EAAX;AAAeC,EAAAA,OAAO,EAAE;AAAxB,CAAf,CAAd;AAEA,OAAO,MAAMC,QAAQ,GAAG,YAAY;AAClC,MAAIC,MAAM,CAACC,QAAP,IAAmB,IAAvB,EAA6B;AAC3B,QAAI;AACF,YAAMD,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,qBAArB,CAAN;AACA,YAAMC,IAAI,GAAG,MAAM,IAAIT,IAAJ,CAASM,MAAM,CAACC,QAAhB,CAAnB;AACA,YAAMG,QAAQ,GAAG,MAAMD,IAAI,CAACE,GAAL,CAASC,WAAT,EAAvB;;AACA,UAAIF,QAAQ,CAAC,CAAD,CAAR,KAAgBG,SAApB,EAA+B;AAC7BZ,QAAAA,KAAK,CAACE,OAAN,GAAgBO,QAAQ,CAAC,CAAD,CAAxB;AACA,cAAMN,OAAO,GAAG,MAAMK,IAAI,CAACE,GAAL,CAASG,UAAT,CAAoBJ,QAAQ,CAAC,CAAD,CAA5B,CAAtB;AACAT,QAAAA,KAAK,CAACG,OAAN,GAAgBA,OAAO,GAAG,qBAA1B;AACAW,QAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCf,KAAK,CAACE,OAAxC;AACD;AACF,KAVD,CAUE,OAAOc,KAAP,EAAc,CACd;AACD;AACF,GAdD,MAcO;AACLC,IAAAA,KAAK,CAAC,yBAAD,CAAL;AACD;AACF,CAlBM;AAmBP,OAAO,MAAMC,WAAW,GAAG,MAAM;AAC/BJ,EAAAA,YAAY,CAACK,UAAb,CAAwB,WAAxB;AACAnB,EAAAA,KAAK,CAACE,OAAN,GAAgB,EAAhB;AACAF,EAAAA,KAAK,CAACG,OAAN,GAAgB,CAAhB;AACAiB,EAAAA,QAAQ,CAACC,MAAT;AACD,CALM;AAMP,OAAO,MAAMC,UAAU,GAAG,YAAY;AACpC,MAAIjB,MAAM,CAACC,QAAX,EAAqB;AACnB,UAAME,IAAI,GAAG,MAAM,IAAIT,IAAJ,CAASM,MAAM,CAACC,QAAhB,CAAnB;AACA,UAAMG,QAAQ,GAAG,MAAMD,IAAI,CAACE,GAAL,CAASC,WAAT,EAAvB;AACA,UAAMY,KAAK,GAAGT,YAAY,CAACU,OAAb,CAAqB,WAArB,CAAd;;AACA,QAAIf,QAAJ,EAAc;AACZ,UAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgBc,KAApB,EAA2B;AACzBvB,QAAAA,KAAK,CAACE,OAAN,GAAgBO,QAAQ,CAAC,CAAD,CAAxB;AACA,cAAMN,OAAO,GAAG,MAAMK,IAAI,CAACE,GAAL,CAASG,UAAT,CAAoBJ,QAAQ,CAAC,CAAD,CAA5B,CAAtB;AACAT,QAAAA,KAAK,CAACG,OAAN,GAAgBA,OAAO,GAAG,oBAA1B;AACD;AACF;AACF;AACF,CAbM,C,CAeP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;AAEA,eAAeH,KAAf","sourcesContent":["\nimport Vue from 'vue'\nimport * as Web3 from 'web3'\n// import * as contractJSON from '../build/contracts/StepByStep.json'\n\nconst state = Vue.observable({ account: '', balance: 0 })\n\nexport const _connect = async () => {\n  if (window.ethereum != null) {\n    try {\n      await window.ethereum.send('eth_requestAccounts')\n      const web3 = await new Web3(window.ethereum)\n      const accounts = await web3.eth.getAccounts()\n      if (accounts[0] !== undefined) {\n        state.account = accounts[0]\n        const balance = await web3.eth.getBalance(accounts[0])\n        state.balance = balance * 0.0000000000000000001\n        localStorage.setItem('connected', state.account)\n      }\n    } catch (error) {\n      // err\n    }\n  } else {\n    alert('Please install Metamask')\n  }\n}\nexport const _disconnect = () => {\n  localStorage.removeItem('connected')\n  state.account = ''\n  state.balance = 0\n  location.reload()\n}\nexport const checkAndGo = async () => {\n  if (window.ethereum) {\n    const web3 = await new Web3(window.ethereum)\n    const accounts = await web3.eth.getAccounts()\n    const cache = localStorage.getItem('connected')\n    if (accounts) {\n      if (accounts[0] === cache) {\n        state.account = accounts[0]\n        const balance = await web3.eth.getBalance(accounts[0])\n        state.balance = balance * 0.000000000000000001\n      }\n    }\n  }\n}\n\n// export const getContract = async () => {\n//   let web3 = ''\n//   if (typeof web3 !== 'undefined') {\n//     web3 = await new Web3(window.ethereum)\n//     console.log('val', web3)\n//   } else {\n//     // set the provider you want from Web3.providers\n//     web3 = await new Web3(new Web3.providers.HttpProvider(networks.dev.httpProvider))\n//     console.log('null', web3)\n//   }\n//   const accounts = await web3.eth.getAccounts()\n//   web3.eth.defaultAccount = accounts[0]\n//   const account = accounts[0]\n//   console.log(account)\n//   const sbs = new web3.eth.Contract(contractJSON.abi, '0xA3d6D860F6A3D76D1cDB58aD5F5afe8813781F10', {\n//     from: account,\n//     gasLimit: web3.utils.toHex(7900000),\n//     gasPrice: web3.utils.toHex(1000000000)\n//   })\n//   console.log(sbs)\n//   await sbs.methods.claim().send({from: accounts[0]})\n// }\n\n// const networks = {\n//   dev: {\n//     httpProvider: 'http://localhost:7545'\n\n//   },\n//   default: this.httpProvider\n// }\n\nexport default state\n"]}]}